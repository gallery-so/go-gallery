



<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/web3/1.3.5/web3.min.js'></script>
<script type="text/javascript">

    // WEB3 1.3.5
    
    // var web3 = new Web3(Web3.givenProvider || "ws://localhost:8545");
    
    window.addEventListener('load', function() {

        console.log("window.ethereum - ", window.ethereum)
        console.log("window.Web3     - ", window.Web3)

        window.ethereum.enable()
        
        // INIT
        // checking if Web3 has been injected by the browser (Mist/MetaMask)
        if (typeof window.Web3 !== 'undefined') {

            // Use Mist/MetaMask's provider
            // web3 = new Web3(window.Web3.currentProvider);
            
            web3 = new Web3(Web3.givenProvider);
            console.log("web3", web3.eth)

        } else {
            console.log('No web3? You should consider trying MetaMask!')
            // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
            web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
        }

        //---------------------
        // GET_BLOCK
        web3.eth.getBlock().then((r)=>{
            console.log(r)    
        })

        //---------------------
        // SIGN
        const msg_str = "test_msg_glry"
        d = web3.eth.personal.sign(msg_str, "0xBA47Bef4ca9e8F86149D2f109478c6bd8A642C97").then((r)=>{
            console.log(r)
        })

        const msg2_str = "test_msg_glry====="
        d = web3.eth.personal.sign(msg2_str, "0xBA47Bef4ca9e8F86149D2f109478c6bd8A642C97").then((r)=>{
            console.log(r)
        })

        const msg3_str = "test_msg_glry===2222=="
        d = web3.eth.personal.sign(msg3_str, "0xBA47Bef4ca9e8F86149D2f109478c6bd8A642C97").then((r)=>{
            console.log(r)
        })

        //---------------------
    })

</script>

<body>
    <div>
    </div>
</body>